Artist App: An Art Marketplace Extension for Saleor
This README provides a comprehensive overview of the Artist App, an extension built on top of Saleor to create a robust and scalable art marketplace.

Overview
The Artist App leverages Saleor's infrastructure to provide a seamless experience for artists and collectors. 
It allows artists to:
Create and manage artworks: Artists can upload their artwork, set prices, and manage availability.
Track sales and commissions: Artists can view their sales history, calculate commissions, and track their earnings.
Generate referral links: Artists can generate unique referral links to promote their artworks and earn commissions on sales generated through these links.
Manage their tier: Artists are automatically assigned to tiers based on their sales performance, unlocking benefits and commission rates.

Architecture
The Artist App is built as a Django application that integrates with Saleor's API. 
It utilizes Saleor's existing models for users, products, and orders, ensuring compatibility and scalability.

Key Components:

Models:
Artist: Represents an artist with details like legal name, tier, application status, and total sales.
Artwork: Represents an artwork created by an artist, linked to a Saleor product.
TierConfiguration: Defines tiers with commission rates and sales thresholds or percentiles.
ReferralLink: Represents a unique referral link generated by an artist for a specific artwork.

Services:
CommissionCalculator: Calculates commissions based on the artist's tier and the order amount.
TierManager: Determines and updates an artist's tier based on their sales performance.
Management Commands:
recalculate_artist_tiers: Recalculates artist tiers based on sales or percentiles.
commission_management: Calculates and updates commissions for all orders.

Views:
Provides views for artists to manage their artworks, view sales reports, and generate referral links.
Includes admin views for managing artist applications, tiers, and referral links.

Installation and Setup

Install Saleor: Follow the Saleor installation instructions to set up a Saleor instance.

Install the Artist App:
Bash     pip install artist-app

3. Configure the Artist App:
Add artist_app to your INSTALLED_APPS in settings.py.
Configure the database settings for the Artist App.
Set up the TierConfiguration model with tiers, commission rates, and sales thresholds or percentiles.

4. Run Migrations:
Bash
python manage.py migrate

5. Restart Saleor: Restart your Saleor server to apply the changes.

Usage

1. Artist Application: Artists can apply to join the marketplace by filling out an application form.
2. Admin Approval: Administrators review applications and approve or reject them.
3. Artwork Creation: Approved artists can create artworks within the Artist App, which creates corresponding Saleor products.
4. Sales and Commissions: When a customer purchases an artwork, Saleor creates an order. 
    The Artist App calculates the commission based on the artist's tier and updates the order line.
5. Tier Management: The Artist App automatically updates an artist's tier based on their sales performance.

Future Development
1. User Interface: Develop a user-friendly interface for artists to manage their artworks, view sales reports, and generate referral links.
2. Marketing and Promotion: Implement features to help artists market and promote their artworks.
3. Community Building: Create features to foster a community of artists and collectors.
4. Payment Processing: Integrate with payment gateways to facilitate secure transactions.

## Referral System

The Artist App includes a referral system that allows artists to generate unique referral links for their artworks. This system is designed to incentivize artists to promote their work and attract new customers.

**How it Works:**

1. **Referral Link Generation:** Artists can generate referral links for their artworks. These links include a secure, unique token generated using a hash-based approach for security.
2. **Token Validation:** When a user clicks a referral link, the system validates the token to ensure its authenticity. This prevents unauthorized access or manipulation of referral links.
3. **Commission Calculation:** If the token is valid, the system tracks the referral and calculates the artist's commission based on the referral rate. This ensures that artists are properly compensated for sales generated through their referrals.

**Referral Link Types and Conditions:**

Currently, the system supports a single type of referral link:

- **Artwork Referral Links:** These links are generated by artists for individual artworks. When a customer purchases an artwork through this link, the artist who generated the link receives a commission.

**Admin Functionality:**

The Artist App provides admin functionalities to manage referral links:

- **Generate Referral Links:** Admins can generate referral links for artists in bulk. This is useful for initial setup or for creating campaigns. This action is available from the Artist list view.
- **(Future Development) Referral Link Management:** Future development will include a dedicated section for admins to manage referral link types, conditions, and potentially view statistics related to referral link usage.

**Future Development:**

**Checkout Integration:**

*   Implement the `ReferralService.apply_referral()` method in the checkout flow (`checkout/views.py`).
*   Capture the referral token from the URL during checkout.
*   Store the validated referral code in the order metadata.

**Discount Application:**

*   Add logic to `ReferralService.apply_referral()` to apply discounts or other benefits to referred orders.
*   Determine how discounts will be configured (e.g., fixed amount, percentage).

**Error Handling:**

*   Implement comprehensive error handling in `ReferralService` for invalid tokens, expired links, and database errors.
*   Provide user-friendly error messages in case of referral link issues.

**Referral Link Management:**

*   Create views or dashboards for artists to view their generated referral links.
*   Add functionality to track referral link clicks, conversions, and earned commissions.
*   Allow admins to configure different types of referral links with specific conditions (e.g., discounts, validity periods).

Contributing
Contributions are welcome! Please open an issue or submit a pull request.

License
The Artist App is licensed under a private license.
